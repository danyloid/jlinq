function Enumerable(a){this.enumerator=function(){return a}}(function(){function D(a,b){var c=b;this.comparer=function(a){if(a!=undefined&&a!=null){c=a}return c};this.enumerator=function(){return new t(a,c)}}function C(a){a.prototype.thenBy=function(a,b){if(b==undefined||b==null){b=new f}var c=this.comparer();var d=new g(a,b);this.comparer(new i(c,d));return this}}function B(a){a.prototype.toArray=function(){var a=this.enumerator();a.reset();var b=new Array;while(a.moveNext()){b.push(a.current())}return b}}function A(i){i.prototype.foreach=function(a){var b=this.enumerator();b.reset();while(b.moveNext()){a(b.current())}};i.prototype.where=function(a){return new Enumerable(new q(this,a))};i.prototype.count=function(){var a=0;var b=this.enumerator();b.reset();while(b.moveNext()){a++}return a};i.prototype.concat=function(a){return new Enumerable(new n(this,a))};i.prototype.select=function(a){return new Enumerable(new r(this,a))};i.prototype.selectMany=function(a,b){return new Enumerable(new s(this,a,b))};i.prototype.aggregate=function(b,c,d){if(b==undefined||b==null){throw new Error("accumulator is not defined")}if(c==undefined||c==null){c=a}var e=null;if(d!=undefined&&d!=null){e=d;this.foreach(function(a){e=b(e,a)})}else{var f=this.enumerator();f.reset();if(f.moveNext()){e=f.current()}while(f.moveNext()){e=b(e,f.current())}}return c(e)};i.prototype.distinct=function(a){if(a==undefined||a==null){a=new e}return new Enumerable(new u(this,a))};i.prototype.firstOrDefault=function(a){if(a==undefined||a==null){a=function(){return true}}var b=this.where(a);var c=b.enumerator();c.reset();if(c.moveNext()){return c.current()}else{return null}};i.prototype.first=function(a){var b=this.firstOrDefault(a);if(b==null){throw new Error("Sequence contains no elements.")}return b};i.prototype.lastOrDefault=function(a){if(a==undefined||a==null){a=function(){return true}}var b=this.where(a);var c=null;b.foreach(function(a){c=a});return c};i.prototype.last=function(a){var b=this.lastOrDefault(a);if(b==null){throw new Error("Sequence contains no elements.")}return b};i.prototype.singleOrDefault=function(a){if(a==undefined||a==null){a=function(){return true}}var b=this.where(a);var c=b.enumerator();var d;c.reset();if(c.moveNext()){d=c.current()}else{return null}if(c.moveNext()){return null}return d};i.prototype.single=function(a){if(a==undefined||a==null){a=function(){return true}}var b=this.where(a);var c=b.enumerator();var d;c.reset();if(c.moveNext()){d=c.current()}else{throw new Error("Sequence contains no elements")}if(c.moveNext()){throw new Error("Sequence contains multiple matching elements")}return d};i.prototype.any=function(a){if(a==undefined||a==null){a=function(){return true}}var b=this.firstOrDefault(a);return b!=null};i.prototype.all=function(a){if(a==undefined||a==null){throw new Error}return!this.any(function(b){return!a(b)})};i.prototype.take=function(a){var b=function(b,c){return c<a};return this.where(b)};i.prototype.takeWhile=function(a){if(a==undefined||a==null){throw new Error("predicate is not defined")}return new Enumerable(new y(this,a))};i.prototype.skip=function(a){var b=function(b,c){return c>=a};return this.where(b)};i.prototype.skipWhile=function(a){if(a==undefined||a==null){throw new Error("predicate is not defined")}return new Enumerable(new z(this,a))};i.prototype.orderBy=function(b,c){var d=a;var e=new f;if(b!=undefined&&b!=null){d=b}if(c!=undefined&&c!=null){e=c}var h=new g(d,e);return new D(this,h)};i.prototype.orderByDescending=function(b,c){var d=a;var e=new f;if(b!=undefined&&b!=null){d=b}if(c!=undefined&&c!=null){e=c}var i=new h(new g(d,e));return new D(this,i)};i.prototype.reverse=function(){return this.orderByDescending(b,new f)};i.prototype.union=function(a,b){if(b==undefined||b==null){b=new e}return this.concat(a).distinct(b)};i.prototype.intersect=function(a,b){if(b==undefined||b==null){b=new e}return new Enumerable(new o(this,a,b))};i.prototype.except=function(a,b){if(b==undefined||b==null){b=new e}return new Enumerable(new p(this,a,b))};i.prototype.toLookup=function(b,d,f){if(b==undefined||b==null){throw new Error("keyProjection is not defined")}if(d==undefined||d==null){d=a}if(f==undefined||f==null){f=new e}var g=new c(f);this.foreach(function(a){var c=b(a);var e=d(a);g.add(c,e)});return g};i.prototype.toDictionary=function(b,c,f){if(b==undefined||b==null){throw new Error("keyProjection is not defined")}if(c==undefined||c==null){c=a}if(f==undefined||f==null){f=new e}var g=new d(f);this.foreach(function(a){var d=b(a);var e=c(a);g.add(d,e)});return g};i.prototype.groupBy=function(b,c,d){if(b==undefined||b==null){throw new Error("keyProjection is not defined")}if(c==undefined||c==null){c=a}if(d==undefined||d==null){d=new e}return this.toLookup(b,c,d)};i.prototype.join=function(b,c,d,f,g){if(b==undefined||b==null){throw new Error("inner is not defined")}if(c==undefined||c==null){throw new Error("outerKeyProjection is not defined")}if(d==undefined||d==null){throw new Error("innerKeyProjection is not defined")}if(f==undefined||f==null){f=a}if(g==undefined||g==null){g=new e}return new Enumerable(new v(this,b,c,d,f,g))};i.prototype.groupJoin=function(b,c,d,f,g){if(b==undefined||b==null){throw new Error("inner is not defined")}if(c==undefined||c==null){throw new Error("outerKeyProjection is not defined")}if(d==undefined||d==null){throw new Error("innerKeyProjection is not defined")}if(f==undefined||f==null){f=a}if(g==undefined||g==null){g=new e}return new Enumerable(new x(this,b,c,d,f,g))};i.prototype.contains=function(a,b){if(b==undefined||b==null){b=new e}var c=this.firstOrDefault(function(c){return b.equal(a,c)});return c!=null};i.prototype.sequenceEqual=function(a,b){if(a==undefined||a==null){throw new Error("second is not defined")}if(b==undefined||b==null){b=new e}var c=this.enumerator();var d=a.enumerator();c.reset();d.reset();while(c.moveNext()){if(!d.moveNext()){return false}if(!b.equal(c.current(),d.current())){return false}}return!d.moveNext()};i.prototype.zip=function(a,b){if(a==undefined||a==null){throw new Error("second is not defined")}if(b==undefined||b==null){throw new Error("resultProjection is not defined")}return new Enumerable(new w(this,a,b))}}function z(a,b){var c=a.enumerator();this.reset=function(){c.reset()};this.moveNext=function(){return c.moveNext()&&!b(c.current())};this.current=function(){return c.current()}}function y(a,b){var c=a.enumerator();this.reset=function(){c.reset()};this.moveNext=function(){return c.moveNext()&&b(c.current())};this.current=function(){return c.current()}}function x(b,c,d,e,f,g){var h=c.toLookup(e,a,g);var i=b.enumerator();this.reset=function(){i.reset()};this.moveNext=function(){return i.moveNext()};this.current=function(){var a=i.current();return f(a,h.get(d(a)))}}function w(a,b,c){var d=a.enumerator();var e=b.enumerator();this.reset=function(){d.reset();e.reset()};this.moveNext=function(){return d.moveNext()&&e.moveNext()};this.current=function(){return c(d.current(),e.current())}}function v(b,c,d,e,f,g){var h=c.toLookup(e,a,g);var i=b.enumerator();var j=null;this.reset=function(){i.reset();j=null};this.moveNext=function(){while(j==null||!j.moveNext()){if(i.moveNext()){var a=d(i.current());j=h.get(a).enumerator();j.reset()}else{return false}}return true};this.current=function(){return f(i.current(),j.current())}}function u(a,b){if(a==undefined||a==null){throw new Error("enumerable is not defined")}if(b==undefined||b==null){throw new Error("equalityComparer is not defined")}var c=new Object;var d=a.enumerator();this.reset=function(){d.reset()};this.moveNext=function(){var a;do{if(!d.moveNext()){return false}a=b.hashCode(d.current())}while(a in c);c[a]=new Object;return true};this.current=function(){return d.current()}}function t(a,b){var c=null;var d=null;this.reset=function(){d=a.toArray()};this.moveNext=function(){if(d.length>0){c=d[0];var a=0;for(var e=1;e<d.length;e++){if(b.compare(d[e],c)<0){c=d[e];a=e}}d.splice(a,1);return true}else{return false}};this.current=function(){return c}}function s(a,b,c){if(a==undefined||a==null){throw new Error}if(b==undefined||b==null){throw new Error}if(c==undefined||c==null){c=function(a,b){return b}}var d=a.enumerator();var e=null;var f=null;var g=null;var h=null;var i=0;this.reset=function(){h=null;e=null;f=null;i=0;d.reset()};this.moveNext=function(){if(f==null||!f.moveNext()){if(d.moveNext()){g=d.current();e=b(g,i++);f=e.enumerator()}else{return false}}h=f.current();return true};this.current=function(){return c(g,h)}}function r(a,b){var c=a.enumerator();var d=-1;this.reset=function(){c.reset();d=-1};this.moveNext=function(){d++;return c.moveNext()};this.current=function(){return b(c.current(),d)}}function q(a,b){var c=a.enumerator();var d=-1;this.reset=function(){c.reset();d=-1};this.moveNext=function(){var a;do{d++;a=c.moveNext()}while(a&&!b(c.current(),d));return a};this.current=function(){return c.current()}}function p(a,b,c){if(a==undefined||a==null){throw new Error("first is not defined")}if(b==undefined||b==null){throw new Error("second is not defined")}if(c==undefined||c==null){throw new Error("equalityComparer is not defined")}var d=a.enumerator();var e=new Object;b.foreach(function(a){e[c.hashCode(a)]=true});this.reset=function(){d.reset()};this.moveNext=function(){var a;do{if(!d.moveNext()){return false}a=c.hashCode(d.current())}while(a in e);delete e[a];return true};this.current=function(){return d.current()}}function o(a,b,c){if(a==undefined||a==null){throw new Error("first is not defined")}if(b==undefined||b==null){throw new Error("second is not defined")}if(c==undefined||c==null){throw new Error("equalityComparer is not defined")}var d=a.enumerator();var e=new Object;b.foreach(function(a){e[c.hashCode(a)]=true});this.reset=function(){d.reset()};this.moveNext=function(){var a;do{if(!d.moveNext()){return false}a=c.hashCode(d.current())}while(!(a in e));delete e[a];return true};this.current=function(){return d.current()}}function n(a,b){if(a==undefined||a==null){throw new Error}if(b==undefined||b==null){throw new Error}var c=a.enumerator();var d=b.enumerator();var e=null;this.reset=function(){c.reset();d.reset()};this.moveNext=function(){if(c.moveNext()){e=c.current();return true}if(d.moveNext()){e=d.current();return true}return false};this.current=function(){return e}}function m(a){var b=a;var c=-1;this.reset=function(){c=-1};this.moveNext=function(){c++;return c<b.length};this.current=function(){return b[c]}}function l(a,b){var c=-1;if(b<0){throw new RangeError}this.reset=function(){c=-1};this.moveNext=function(){c++;if(c<b){return true}return false};this.current=function(){return a}}function k(a,b){var c=-1;if(b<0){throw new RangeError}if(a+b-1>Number.MAX_VALUE){throw new RangeError}this.reset=function(){c=-1};this.moveNext=function(){c++;if(c<b){return true}return false};this.current=function(){return a+c}}function j(){this.reset=function(){};this.moveNext=function(){return false};this.current=function(){throw new Error}}function i(a,b){this.compare=function(c,d){var e=a.compare(c,d);if(e!=0){return e}return b.compare(c,d)}}function h(a){this.compare=function(b,c){return a.compare(c,b)}}function g(a,b){this.compare=function(c,d){return b.compare(a(c),a(d))}}function f(){this.compare=function(a,b){if(a>b)return 1;if(a<b)return-1;return 0}}function e(){function a(a){var b=0;if(a.length==0){return b}for(var c=0;c<a.length;c++){var d=a.charCodeAt(c);b=(b<<5)-b+d;b=b&b}return Math.abs(b)}this.equal=function(a,b){return this.hashCode(a)==this.hashCode(b)};this.hashCode=function(b){if(b==undefined||b==null){b=""}var c=JSON.stringify(b)+JSON.stringify(b.constructor)+JSON.stringify(b.prototype);return a(c)}}function d(a){function b(a){var b=a.keys().enumerator();this.reset=function(){b.reset()};this.moveNext=function(){return b.moveNext()};this.current=function(){var c=b.current();var d=a.get(c);return{key:c,value:d}}}var c=new Array;var d=new Object;this.keys=function(a){if(a!=undefined){c=a}return c.asEnumerable()};this.add=function(b,c){var e=a.hashCode(b);if(e in d){throw new Error("The key is already defined in the dictionary")}d[e]=c};this.get=function(b){var c=a.hashCode(b);if(c in d){return d[c]}else{return null}};this.remove=function(b){var e=a.hashCode(b);if(e in d){var f=c.indexOf(b,0);c.splice(f,1);delete d[e];return true}else{return false}};this.enumerator=function(){return new b(this)}}function c(a){function b(a){var b=a.keys().enumerator();this.reset=function(){b.reset()};this.moveNext=function(){return b.moveNext()};this.current=function(){var c=b.current();var d=a.get(c);d.key=function(){return c};return d}}var c=new Array;var d=new Object;this.keys=function(a){if(a!=undefined){c=a}return c.asEnumerable()};this.add=function(b,e){var f=a.hashCode(b);if(!(f in d)){c.push(b);d[f]=new Array}d[f].push(e)};this.get=function(b){var c=a.hashCode(b);if(c in d){return d[c].asEnumerable()}else{return Enumerable.empty()}};this.remove=function(b){var e=a.hashCode(b);if(e in d){var f=c.indexOf(b,0);c.splice(f,1);delete d[e];return true}else{return false}};this.enumerator=function(){return new b(this)}}function b(a,b){return b}function a(a){return a}j.instance=new j;Enumerable.empty=function(){return new Enumerable(j.instance)};Enumerable.range=function(a,b){return new Enumerable(new k(a,b))};Enumerable.repeat=function(a,b){return new Enumerable(new l(a,b))};Array.prototype.enumerator=function(){return new m(this)};Array.prototype.asEnumerable=function(){return new Enumerable(new m(this))};A(Enumerable);A(D);A(c);A(d);B(Enumerable);B(D);B(c);B(d);C(D)})()